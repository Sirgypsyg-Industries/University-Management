//
//
//  Generated by StarUML(tm) Java Add-In
//
//  @ Project : Untitled
//  @ File Name : Student.java
//  @ Date : 20.05.2024
//  @ Author : 
//
//

import java.util.ArrayList;

public class Student extends User {
	public Student(String fullName, String password, int index) {
		super(fullName, password, index);
	}

	public ArrayList<Course> classes;
	public University university;

	// Trzeba zmienić w UML w argumentach żeby był Course a w mainie wyświetlić listę najpierw profesorów a potem kursów
	// Listować profesorów z danego wydziału i potem kursy
	public void registerOnCourse(Course course, String password) {
		if (course != null){
			//sprawdzenie czy nie nie jest już zapisany na taki kurs
			for (Course courseString: classes) {
				if (!courseString.name.equals(course.name)) {
					// jeśli hasło sie zgadza to dodajemy kurs do listy
					if (course.getPassword().equals(password)) {
						classes.add(course);
						System.out.println("Student " + this.getFullName() + " registered on course " + course.name);
					} else {
						System.out.println("Wrong password for course " + course.name);
					}
				}
			}
		} else {
			System.out.println("Course not found");
		}
	}
	
	public void viewGrades() {
		StringBuilder stringBuilder = new StringBuilder();
		boolean studentFound = false;

		for (Course course : classes) {
			Grade grade = course.grades.get(Integer.toString(this.getIndex()));

			if (grade != null) {
				studentFound = true;
				stringBuilder.append("Course: ").append(course.name)
						.append(" - Grade: ").append(grade.name()).append("\n");
			}
		}

		if (!studentFound) {
			stringBuilder.append("No grades found for student ID: ").append(this.getIndex()).append("\n");
		}
		System.out.println(stringBuilder.toString());
	}
	
	public void viewMaterial(String course, String nameOfFile) {
		for (Course courseString: classes) {
			if (courseString.name.equals(course)) {
				for (String materialName: courseString.materials) {
					if (materialName.equals(nameOfFile)) {
						System.out.println(materialName.toString());
					} else {
						System.out.println("Name of this file cannot be found.");
					}
				}
			} else {
				System.out.println("Course not found.");
			}
		}
	}
}